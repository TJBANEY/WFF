
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.css">
<link rel="stylesheet" href="/static/bulma-docs.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../../../webapp/static/css/base.css">


<script src="http://code.jquery.com/jquery-3.2.1.min.js"></script>

{% load calendar_tags %}

<style>
    .month {
        text-transform: capitalize;
    }

    .columns {
        margin-left: 0;
        margin-right: 0;
        margin-top: -0.75rem;
        
    }

    .column {
        text-align: center;
    }

    .column .day-triangle {
        position: absolute;
        border-style: solid;
        border-width: 50px 50px 0 0;
        border-color: black transparent transparent transparent;
        width: 0;
        height: 0;
        top: 0;
        left: 0;
    }

    .column .day {
        color: black;
        position: absolute;
        top: 35%;
        left: -50%;
        right: -50%;
    }

    @media only screen and (max-width: 991px) {
        
        #week-one .column,
        #week-two .column,
        #week-three .column,
        #week-four .column,
        #week-five .column,
        #week-six .column {
            border: 0px solid teal;
            padding: 20px 20px;
            position: relative;
        }
    }

    #calendar-header .column {
        padding: 0.7rem 0.3rem;
    }

    #week-one .column,
    #week-two .column,
    #week-three .column,
    #week-four .column,
    #week-five .column,
    #week-six .column {
        border: 0px solid teal;
        padding: 30px 20px;
        position: relative;
    }

    .info {
        background-color: #209cee;
    }

    .success {
        background-color: #23d160;
    }

    .warning {
        background-color: #ffdd57;
    }

    .danger {
        background-color: #ff3860;
    }

    .is-one-fifth {
        width: 14.28% !important;
    }

    .event {
        position: absolute;
        border-radius: 8px;
        top: 50%;
        left: 50%;
        font-size: 10pt;
        min-width: 120px;
        transform: translate(-50%, -50%);
        font-weight: bold;
    }

</style>

<script>
    $(document).ready(function () {
        var body = $('body');

        body.on('click', '#prev-month', function () {
            console.log('CLICKED');

            $.ajax({
                'method': 'POST',
                'url': '/calendar/navigate/previous',
                'data': {'current_month': 'prev'},
                success: function (response) {
                    $('#baney-calendar').html(response)
                },
                error: function (err) {
                    console.log("AJAX error in request: " + JSON.stringify(err, null, 2));
                }
            })
        });

        body.on('click', '#next-month', function () {
            console.log('CLICKED');

            $.ajax({
                'method': 'POST',
                'url': '/calendar/navigate/next',
                'data': {'direction': 'next'},
                success: function (response) {
                    $('#baney-calendar').html(response)
                },
                error: function (err) {
                    console.log("AJAX error in request: " + JSON.stringify(err, null, 2));
                }
            })
        });
    });
 

</script>



<div class="container">
    <div id="baney-calendar" class="cal">

        <!-- MONTH NAV -->
        <div class="columns" id="month-year" style="display: flex;">
            <div class="column">
                <i class="fa fa-caret-left" id="prev-month"
                   style="cursor: pointer; font-size: 28px; padding: 35px 20px 20px 20px;"></i>
            </div>
            <div class="column" style="padding: 35px 20px 20px 20px; font-size: 30px;">
                <span class="month">{{ month }}</span> {{ year }}
            </div>
            <div class="column">
                <i class="fa fa-caret-right" id="next-month"
                   style="cursor: pointer; font-size: 28px; padding: 35px 20px 20px 20px;"></i>
            </div>
        </div>

        {% comment %} <div class="columns" style="display: flex; text-align: center;">
            <p style="flex: 1;">A</p>
            <p style="flex: 1;">B</p>
            <p style="flex: 1;">C</p>
            <p style="flex: 1;">D</p>
        </div> {% endcomment %}

        <!-- WEEK DAYS-->
        <div class="columns" id="calendar-header" style="display: flex; margin-top: 0.5rem; color: teal;">
            <div class="column ">
                Sun
            </div>
            <div class="column ">
                Mon
            </div>
            <div class="column ">
                Tue
            </div>
            <div class="column ">
                Wed
            </div>
            <div class="column ">
                Thu
            </div>
            <div class="column ">
                Fri
            </div>
            <div class="column ">
                Sat
            </div>
            
        </div>

        <!-- WEEK 1-->
        <div class="columns" id="week-one" style="display: flex;">
            {% autoescape off %}
                {% first_day_of_month 0 request  %}
                {% first_day_of_month 1 request %}
                {% first_day_of_month 2 request %}
                {% first_day_of_month 3 request %}
                {% first_day_of_month 4 request %}
                {% first_day_of_month 5 request %}
                {% first_day_of_month 6 request %}
            {% endautoescape %}
        </div>

        <!-- WEEK 2-->
        <div class="columns" id="week-two" style="display: flex;">
            {% autoescape off %}
                {% first_day_of_month 0 request  %}
                {% first_day_of_month 1 request %}
                {% first_day_of_month 2 request %}
                {% first_day_of_month 3 request %}
                {% first_day_of_month 4 request %}
                {% first_day_of_month 5 request %}
                {% first_day_of_month 6 request %}
            {% endautoescape %}
        </div>

        <!-- WEEK 3-->
        <div class="columns" id="week-three" style="display: flex;">
            {% autoescape off %}
                {% first_day_of_month 0 request  %}
                {% first_day_of_month 1 request %}
                {% first_day_of_month 2 request %}
                {% first_day_of_month 3 request %}
                {% first_day_of_month 4 request %}
                {% first_day_of_month 5 request %}
                {% first_day_of_month 6 request %}
            {% endautoescape %}
        </div>

        <!-- WEEK 4-->
        <div class="columns" id="week-four" style="display: flex;">
            {% autoescape off %}
                {% first_day_of_month 0 request  %}
                {% first_day_of_month 1 request %}
                {% first_day_of_month 2 request %}
                {% first_day_of_month 3 request %}
                {% first_day_of_month 4 request %}
                {% first_day_of_month 5 request %}
                {% first_day_of_month 6 request %}
            {% endautoescape %}
        </div>

        <!-- WEEK 5-->
        <div class="columns" id="week-five" style="display: flex;">
            {% autoescape off %}
                {% first_day_of_month 0 request  %}
                {% first_day_of_month 1 request %}
                {% first_day_of_month 2 request %}
                {% first_day_of_month 3 request %}
                {% first_day_of_month 4 request %}
                {% first_day_of_month 5 request %}
                {% first_day_of_month 6 request %}
            {% endautoescape %}
        </div>

        <!-- WEEK 6-->
        {% comment %} <div class="columns" id="week-six" style="display: flex;">
            {% autoescape off %}
                {% first_day_of_month 0 request first='first' %}
                {% first_day_of_month 1 request %}
                {% first_day_of_month 2 request %}
                {% first_day_of_month 3 request %}
                {% first_day_of_month 4 request %}
                {% first_day_of_month 5 request %}
                {% first_day_of_month 6 request %}
            {% endautoescape %}
        </div> {% endcomment %}

        <!-- EVENTS-->
        <div class="events" style="border-top: 1px solid black;">
            <div style="display: grid;
                grid-template-columns: 100px auto;
                grid-template-rows: auto;
                grid-column-gap: 1rem; 
                margin: 0 0;
                border-top: 1px solid #bbb;
                border-bottom: 1px solid #bbb;">
                <img style="align-self: start; width: 100%;" src="https://www.longfield-gardens.com/_ccLib/image/plants/DETA5-1037.jpg" height="120" width="120" alt="image here">
                <div style="vertical-align: top;">
                    <h2 style="font-size: 1.8em">Event</h2>
                    <p>This is some lorem ipsum type stuff</p>
                </div>
            </div>

            <div style="display: grid;
                grid-template-columns: 100px auto;
                grid-template-rows: auto;
                grid-column-gap: 1rem; 
                margin: 0.5rem 0;
                border-top: 1px solid #bbb;
                border-bottom: 1px solid #bbb;">
                <img style="align-self: start; width: 100%;" src="https://www.longfield-gardens.com/_ccLib/image/plants/DETA5-1037.jpg" height="120" width="120" alt="image here">
                <div style="vertical-align: top;">
                    <h2 style="font-size: 1.8em">Event</h2>
                    <p>This is some lorem ipsum type stuff</p>
                </div>
            </div>

            <div style="display: grid;
                grid-template-columns: 100px auto;
                grid-template-rows: auto;
                grid-column-gap: 1rem; 
                margin: 0.5rem 0 0 0;
                border-top: 1px solid #bbb;
                border-bottom: 1px solid #bbb;">
                <img style="align-self: start; width: 100%;" src="https://www.longfield-gardens.com/_ccLib/image/plants/DETA5-1037.jpg" height="120" width="120" alt="image here">
                <div style="vertical-align: top;">
                    <h2 style="font-size: 1.8em">Event</h2>
                    <p>This is some lorem ipsum type stuff</p>
                </div>
            </div>
        </div>
    </div>
</div>